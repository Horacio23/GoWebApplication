<!DOCTYPE html>
<html lang="en">
{{template "_head.html" .Title}}
<body>

    <div id="wrapper">

      {{template "_header.html" .Active}}
        <div id="page-wrapper">

            <div class="container-fluid">

                  <table class="table">
                      <thead>
                          <tr>
                              <th>Name</th>
                              <th>Address</th>
                              <th>Phone Number</th>
                              <th></th>
                          </tr>
                      </thead>
                      <tbody>

                      {{range .Clients}}
                          <tr>
                              <td><a href="/client/{{.Id}}">{{.FirstName}} {{.LastName}}</a></td>
                              <td onclick="getClient({{.Id}})">{{.EntranceDate}}</td>
                              <td>{{.TransactionDate}}</td>
                              <td><a class="btn btn-warning glyphicon glyphicon-pencil small" href="/update/{{.Id}}"></a>
                          </tr>

                      {{end}}
                    </tbody>
                </table>
                <div id="tempModal"></div>
              </div>
            </div>
            <!-- /.container-fluid -->

        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->
    <script>
      function getClient(id){
        $.ajax("/client/"+id).done(function(data){
            console.log("yay, we got the data");
            console.log(data);
            $("#tempModal").html(data);
            $("#clientModal").modal("show");
          }).fail(function(){
            alert("Your fault");
          })
      }
    </script>
    {{template "_footer.html"}}

</body>

</html>
